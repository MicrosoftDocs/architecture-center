function unCheck(e){$('#'+e).remove(),$('.'+e).prop('checked',!1),filter()}function toggle(e,a){var t;e||(e=this),a||(a=!1),t=e.currentTarget?e.currentTarget:e;var n,i=$('#'+$(t).attr('aria-controls')),s=JSON.parse($(t).attr('aria-expanded'));n=a?!a:!s,$(t).attr('aria-expanded',n.toString()),i.css('max-height',n?'0px':'100vh'),i.css('opacity',n?'0':'1'),i.css('transition','max-height 300ms ease-in-out, opacity 300ms ease-in-out'),i.css('overflow','hidden'),i.css('hidden',!1);var r=n?'docon-chevron-up-light':'docon-chevron-down-light',l=n?'docon-chevron-down-light':'docon-chevron-up-light';i.find('.expanded-indicator').removeClass(l).addClass(r)}Handlebars.registerHelper('math',function(e,a,t,n){return{'+':(e=parseFloat(e))+(t=parseFloat(t)),'-':e-t,'*':e*t,'/':e/t,'%':e%t}[a]}),Handlebars.registerHelper('ifCond',function(e,a,t,n){switch(a){case'==':return e==t?n.fn(this):n.inverse(this);case'===':return e===t?n.fn(this):n.inverse(this);case'!=':return e!=t?n.fn(this):n.inverse(this);case'!==':return e!==t?n.fn(this):n.inverse(this);case'<':return e<t?n.fn(this):n.inverse(this);case'<=':return e<=t?n.fn(this):n.inverse(this);case'>':return e>t?n.fn(this):n.inverse(this);case'>=':return e>=t?n.fn(this):n.inverse(this);case'&&':return e&&t?n.fn(this):n.inverse(this);case'||':return e||t?n.fn(this):n.inverse(this);default:return n.inverse(this)}}),Handlebars.registerHelper('showPage',function(e,a,t,n,i){return e<a||e>t||e==n||e==n-1||e==n+1?i.fn(this):i.inverse(this)}),Handlebars.registerHelper('elips',function(e,a,t,n,i){return n>a&&e==a+1||n<t&&e==t-1?i.fn(this):i.inverse(this)}),Handlebars.registerHelper('spaceDelim',function(e,a){return a.fn(e.join(' '))}),Handlebars.registerHelper('commaDelim',function(e,a){return a.fn(e.join(','))}),Handlebars.registerHelper('if',function(e,a){if(e)return a.fn(this)}),Handlebars.registerHelper('times',function(e,a){for(var t='',n=1;n<e+1;++n)t+=a.fn(n);return t}),Handlebars.registerHelper('ifIn',function(e,a,t){return a.indexOf(e)>-1?t.fn(this):t.inverse(this)}),Handlebars.registerHelper('switch',function(e,a){this._switch_value_=e;var t=a.fn(this);return delete this._switch_value_,t}),Handlebars.registerHelper('case',function(e,a){if(e==this._switch_value_)return a.fn(this)});var refineTemplate=Handlebars.compile('\n{{#each categories as |category|}}{{#ifCond category.stub \'!=\' "hidden" }}\n<div data-bi-name="{{ category.stub }}_facet" class="has-border-top">\n    <button\n        data-bi-name="expander"\n        class="button expander-button has-inner-focus level is-mobile is-text is-undecorated is-fullwidth has-border-none has-margin-none is-large has-padding-left-medium"\n        aria-expanded="false"\n        aria-controls="{{ category.stub }}_facet"\n    >\n        <span class="has-text-weight-semibold is-size-7">{{ category.category }}</span>\n        <span class="icon" aria-hidden="true">\n            <span class="docon docon-chevron-up-light expanded-indicator"></span>\n        </span>\n    </button>\n    <div id="{{ category.stub }}_facet" category="{{ category.stub }}" class="panel-body">\n        <ul class="has-margin-none has-padding-top-none has-padding-bottom-small has-padding-left-medium">\n        {{#each category.items as |item|}}\n            <li class="is-unstyled">\n                <label class="checkbox is-small has-padding-bottom-extra-small">\n                    <input id="cb-dotnet" class="{{ item.friendly-name }}" name="{{ category.stub }}" value="{{#spaceDelim item.tags}}{{this}}{{/spaceDelim}}" friendly-name="{{ item.friendly-name }}" type="checkbox" onchange="filter(pageNumber=1)">\n                    <span class="checkbox-check" role="presentation"></span>\n                    <span class="checkbox-text">{{ item.name }}</span>\n                </label>\n            </li>\n        {{/each}}\n        </ul>\n    </div>\n</div>{{/ifCond}}\n{{/each}}\n'),cardTemplate=Handlebars.compile('\n{{#each articles as |article|}}\n<li class="grid-item" data-pivot="{{#spaceDelim article.tags}}{{this}}{{/spaceDelim}}">\n<article class="card">\n    <div class="card-header has-margin-top-small" aria-hidden="true">\n        <figure class="image diagram">\n            <a href="{{ article.http_url }}"><img src="{{ article.image }}"\n            class="diagram"\n            alt="Architecture Diagram"\n            data-linktype="relative-path"></a>\n        </figure>\n    </div>\n    <div class="card-content">\n        <p class="card-content-super-title">\n    {{#switch article.type}} \n        {{#case \'example-workload\'}}Example Workload{{/case}} \n        {{#case \'reference-architecture\'}}Reference Architecture{{/case}}\n        {{#case \'solution-idea\'}}Solution Idea{{/case}}\n    {{/switch}}</p>\n        <a class="card-content-title" href="{{ article.http_url }}">\n            <h3>{{ article.title }}</h3>\n        </a>\n        <ul class="card-content-metadata">\n            <li>{{ article.publish_date }}</li>\n            <li>{{ article.read_time }}</li>\n        </ul>\n        <p class="card-content-description">{{ article.description }}\n           <div class="bottom-to-top-fade is-hidden-mobile"></div>\n        </p>\n        <p class="hidden-item">{{ article.filter_text }}</p>\n   </div>\n   <div class="card-footer">\n       <div class="card-footer-item left-aligned">\n           <ul class="tags">\n               {{#if article.sample_code}}{{#unless article.github_url }}\n               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}">Sample Code</a></li>\n               {{/unless}}{{/if}}\n               {{#if article.pricing_calculator}}{{#unless article.pricing_guidance}}\n               <li class="tag is-small"><a class="black-link" href="{{ article.pricing_calculator }}">Pricing Calculator</a></li>\n               {{/unless}}{{/if}}\n               {{#if article.deployable}}\n               <li class="tag is-small"><a class="black-link" href="{{ article.deployable }}">Deploy to Azure</a></li>\n               {{/if}}\n               {{#if article.visio_diagram}}\n               <li class="tag is-small"><a class="black-link" href="{{ article.visio_diagram }}">Visio Diagram</a></li>\n               {{/if}}\n               {{#if article.github_url}}\n               <li class="tag is-small"><a class="black-link" href="{{ article.github_url }}"><span class="docon docon-brand-github"></span>&nbsp;Github Project</a></li>\n               {{/if}}\n               {{#if article.interactive_diagram}}{{#unless article.visio_diagram }}\n               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}">Interactive Diagram</a></li>\n               {{/unless}}{{/if}}\n               {{#if article.data_flow}}\n               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}#{{ article.data_flow }}">Data Flow</a></li>\n               {{/if}}\n               {{#if article.components}}\n               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}#{{ article.components }}">Component details</a></li>\n               {{/if}}\n               {{#if article.pricing_guidance}}\n               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}#{{ article.pricing_guidance }}">Pricing Details</a></li>\n               {{/if}}\n               {{#if article.alternative_choices}}\n               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}#{{ article.alternative_choices }}">Alternate Configurations</a></li>\n               {{/if}}\n           </ul>\n       </div>\n    </div>\n</article>\n</li>\n{{/each}}\n'),paginationTemplate=Handlebars.compile('\n<nav class="pagination" role="navigation" aria-label="pagination">\n    {{#ifCond totalPages \'>\' 1 }}\n        {{#ifCond currentPage \'>\' 1 }}\n        <a class="pagination-previous" aria-label="previous" data-page="{{#math currentPage \'-\' 1}}{{/math}}" href="#" onclick="filter(pageNumber={{#math currentPage \'-\' 1}}{{/math}})">\n            <span class="icon" aria-hidden="true">\n                <span class="docon docon-arrow-left"></span>\n            </span>\n        </a>\n        {{/ifCond}}\n        {{#ifCond currentPage \'<\' totalPages }}\n        <a class="pagination-next" aria-label="next" data-page="{{#math currentPage \'+\' 1}}{{/math}}" href="#" onclick="filter(pageNumber={{#math currentPage \'+\' 1}}{{/math}})">\n            <span class="icon" aria-hidden="true">\n                <span class="docon docon-arrow-right">\n                </span>\n            </span>\n        </a>\n        {{/ifCond}}\n        <ul class="pagination-list">\n            {{#times totalPages}}\n                {{#showPage this ../skipStart ../skipEnd ../currentPage}}\n                    <li>\n                    <a class="pagination-link{{#ifCond this \'==\' ../currentPage}} is-current{{/ifCond}}" data-page="this" href="#" onclick="filter(pageNumber={{this}})" aria-label="Page {{this}} of {{../totalPages}}" data-linktype="self-bookmark">{{this}}</a>\n                    </li>\n                {{else}}\n                    {{#elips this ../skipStart ../skipEnd ../currentPage}}\n                    <li>\n                        <span class="pagination-ellipsis">&hellip;</span>\n                    </li>\n                    {{/elips}}\n                {{/showPage}}\n            {{/times}}\n        </ul>\n    {{/ifCond}}\n</nav>\n');function filter(e,a){a||(a=!1);var t=[];$('.expander-button[aria-expanded=\'false\']').map(function(){t.push($(this).attr('aria-controls'))});var n=12;$('.grid-item').css('max-width','');var i=new URLSearchParams(window.location.search);e||(e=i.get('page')?i.get('page'):1),i.get('search')&&!a&&$('#search-content').val(i.get('search')),$.getJSON('/azure/architecture/solution-ideas/data/output.json.txt',function(a){var s=[],r=[],l=[],c=$('input[type=checkbox]:checked');$('.facet-tag').remove(),c.length>0&&$.each(c,function(){l.push($(this).closest('div').find('[category]'));var e=$(this).attr('friendly-name'),a=$(this).siblings('.checkbox-text').text();$('.facet-tags').append('<span class="tag facet-tag" id="'+e+'">'+a+'<button type="button" aria-label="Remove "'+a+'" name="'+a+'" class="delete" onclick="unCheck(\''+e+'\')"></button></span>'),s=s.concat($(this).val().toLowerCase().split(' '))}),a.articles=$.grep(a.articles,function(e){return!(s.length>0)||s.some(a=>e.tags.includes(a))});var o,d=$('#search-content').get(0).value;a.articles=$.grep(a.articles,function(e){return!d||e.filter_text.includes(d.toLowerCase())}),c.map(function(){r.push($(this).attr('friendly-name'))}),$.getJSON('/azure/architecture/solution-ideas/metadata/display-tags.json.txt',function(e){var a=refineTemplate(e);$('#refine-content').html(a);var n=$('.expander-button');$('.expander-button').on('click',toggle),n.each(function(){toggle(this)}),new URLSearchParams(window.location.search).getAll('filter').forEach(function(e){$('input[friendly-name=\''+e+'\']').prop('checked',!0),toggle($('input[friendly-name=\''+e+'\']').closest('div[data-bi-name]').find('.expander-button'),forceExpand=!0)}),t.forEach(function(e){toggle($('.expander-button[aria-controls=\''+e+'\']'),forceExpand=!0)})}),o=i.get('branch')?i.get('branch'):'';var h={filter:r,search:d,page:e,branch:o};function u(e){return null===e||''===e}for(var p in h)u(h[p])&&delete h[p];1==h.page&&delete h.page;var g='?'+$.param(h,!0);window.history.replaceState('object or string',document.title,g);var f=1+(e-1)*n,m=f+n-1,b={articles:a.articles.slice(f-1,m)},v=cardTemplate(b);$('.grid').html(v);var k=$('.grid').css('grid-template-columns').split(' ').length;1!=a.articles.length&&1!=k||$('.grid-item').css('max-width','350px');var x,_,w=10,y=Math.ceil(a.articles.length/n);y>w?(x=Math.ceil((y+4-w)/2),_=Math.floor(y-(y-w)+x-2)):(x=w+1,_=w+1);var C={maxItems:n,visibleArticles:b.articles.length,totalPages:y,skipStart:x,skipEnd:_,currentPage:e},H=paginationTemplate(C);$('.pagination').remove(),$('#results').append(H),$('.resultcount').text(a.articles.length+' Architectures Found')})}$(window).resize(function(){$('.grid-item').css('max-width',''),filter()}),$(document).ready(function(){$('.mainContainer').addClass('has-body-background-dark main-full-height is-full has-default-focus'),$('.mainContainer').removeClass('uhf-container'),$('#hub-page-main').removeClass(),$('a').click(function(e){e.preventDefault()}),filter()});
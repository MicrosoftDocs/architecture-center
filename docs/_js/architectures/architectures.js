function unCheck(e){$('#'+e).remove(),$('.'+e).prop('checked',!1),filter()}function toggle(e,a){var t;e||(e=this),a||(a=!1),t=e.currentTarget?e.currentTarget:e;var i,s=$('#'+$(t).attr('aria-controls')),r=JSON.parse($(t).attr('aria-expanded'));i=a?!a:!r,$(t).attr('aria-expanded',i.toString()),s.css('max-height',i?'0px':'100vh'),s.css('opacity',i?'0':'1'),s.css('transition','max-height 300ms ease-in-out, opacity 300ms ease-in-out'),s.css('overflow','hidden'),s.css('hidden',!1);var n=i?'docon-chevron-up-light':'docon-chevron-down-light',l=i?'docon-chevron-down-light':'docon-chevron-up-light';s.find('.expanded-indicator').removeClass(l).addClass(n)}Handlebars.registerHelper('math',function(e,a,t,i){return{'+':(e=parseFloat(e))+(t=parseFloat(t)),'-':e-t,'*':e*t,'/':e/t,'%':e%t}[a]}),Handlebars.registerHelper('ifCond',function(e,a,t,i){switch(a){case'==':return e==t?i.fn(this):i.inverse(this);case'===':return e===t?i.fn(this):i.inverse(this);case'!=':return e!=t?i.fn(this):i.inverse(this);case'!==':return e!==t?i.fn(this):i.inverse(this);case'<':return e<t?i.fn(this):i.inverse(this);case'<=':return e<=t?i.fn(this):i.inverse(this);case'>':return e>t?i.fn(this):i.inverse(this);case'>=':return e>=t?i.fn(this):i.inverse(this);case'&&':return e&&t?i.fn(this):i.inverse(this);case'||':return e||t?i.fn(this):i.inverse(this);default:return i.inverse(this)}}),Handlebars.registerHelper('showPage',function(e,a,t,i,s){return e<a||e>t||e==i||e==i-1||e==i+1?s.fn(this):s.inverse(this)}),Handlebars.registerHelper('elips',function(e,a,t,i,s){return i>a&&e==a+1||i<t&&e==t-1?s.fn(this):s.inverse(this)}),Handlebars.registerHelper('spaceDelim',function(e,a){return a.fn(e.join(' '))}),Handlebars.registerHelper('commaDelim',function(e,a){return a.fn(e.join(','))}),Handlebars.registerHelper('if',function(e,a){if(e)return a.fn(this)}),Handlebars.registerHelper('times',function(e,a){for(var t='',i=1;i<e+1;++i)t+=a.fn(i);return t}),Handlebars.registerHelper('ifIn',function(e,a,t){return a.indexOf(e)>-1?t.fn(this):t.inverse(this)}),Handlebars.registerHelper('switch',function(e,a){this._switch_value_=e;var t=a.fn(this);return delete this._switch_value_,t}),Handlebars.registerHelper('case',function(e,a){if(e==this._switch_value_)return a.fn(this)});var refineString=['    {{#each categories as |category|}}{{#ifCond category.stub \'!=\' "hidden" }}','<div data-bi-name="{{ category.stub }}_facet" class="has-border-top">','    <button','        data-bi-name="expander"','        class="button expander-button has-inner-focus level is-mobile is-text is-undecorated is-fullwidth has-border-none has-margin-none is-large has-padding-left-medium"','        aria-expanded="false"','        aria-controls="{{ category.stub }}_facet"','    >','        <span class="has-text-weight-semibold is-size-7">{{ category.category }}</span>','        <span class="icon" aria-hidden="true">','            <span class="docon docon-chevron-up-light expanded-indicator"></span>','        </span>','    </button>','    <div id="{{ category.stub }}_facet" category="{{ category.stub }}" class="panel-body">','        <ul class="has-margin-none has-padding-top-none has-padding-bottom-small has-padding-left-medium">','        {{#each category.items as |item|}}','            <li class="is-unstyled">','                <label class="checkbox is-small has-padding-bottom-extra-small">','                    <input id="cb-dotnet" class="{{ item.friendly-name }}" name="{{ category.stub }}" value="{{#spaceDelim item.tags}}{{this}}{{/spaceDelim}}" friendly-name="{{ item.friendly-name }}" type="checkbox" onchange="filter(pageNumber=1)">','                    <span class="checkbox-check" role="presentation"></span>','                    <span class="checkbox-text">{{ item.name }}</span>','                </label>','            </li>','        {{/each}}','        </ul>','    </div>','</div>{{/ifCond}}','{{/each}}'].join(''),refineTemplate=Handlebars.compile(refineString),cardString=['{{#each articles as |article|}}','<li class="grid-item" data-pivot="{{#spaceDelim article.tags}}{{this}}{{/spaceDelim}}">','<article class="card">','    <div class="card-header has-margin-top-small" aria-hidden="true">','        <figure class="image diagram">','            <a href="{{ article.http_url }}"><img src="{{ article.image }}"','            class="diagram"','            alt="Architecture Diagram"','            data-linktype="relative-path"></a>','        </figure>','    </div>','    <div class="card-content">','        <p class="card-content-super-title">','    {{#switch article.type}} ','        {{#case \'example-workload\'}}Example Workload{{/case}} ','        {{#case \'reference-architecture\'}}Reference Architecture{{/case}}','        {{#case \'solution-idea\'}}Solution Idea{{/case}}','    {{/switch}}</p>','        <a class="card-content-title" href="{{ article.http_url }}">','            <h3>{{ article.title }}</h3>','        </a>','        <ul class="card-content-metadata">','            <li>{{ article.publish_date }}</li>','            <li>{{ article.read_time }}</li>','        </ul>','        <p class="card-content-description">{{ article.description }}','           <div class="bottom-to-top-fade is-hidden-mobile"></div>','        </p>','        <p class="hidden-item">{{ article.filter_text }}</p>','   </div>','   <div class="card-footer">','       <div class="card-footer-item left-aligned">','           <ul class="tags">','               {{#if article.sample_code}}{{#unless article.github_url }}','               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}">Sample Code</a></li>','               {{/unless}}{{/if}}','               {{#if article.pricing_calculator}}{{#unless article.pricing_guidance}}','               <li class="tag is-small"><a class="black-link" href="{{ article.pricing_calculator }}">Pricing Calculator</a></li>','               {{/unless}}{{/if}}','               {{#if article.deployable}}','               <li class="tag is-small"><a class="black-link" href="{{ article.deployable }}">Deploy to Azure</a></li>','               {{/if}}','               {{#if article.visio_diagram}}','               <li class="tag is-small"><a class="black-link" href="{{ article.visio_diagram }}">Visio Diagram</a></li>','               {{/if}}','               {{#if article.github_url}}','               <li class="tag is-small"><a class="black-link" href="{{ article.github_url }}"><span class="docon docon-brand-github"></span>&nbsp;Github Project</a></li>','               {{/if}}','               {{#if article.interactive_diagram}}{{#unless article.visio_diagram }}','               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}">Interactive Diagram</a></li>','               {{/unless}}{{/if}}','               {{#if article.data_flow}}','               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}#{{ article.data_flow }}">Data Flow</a></li>','               {{/if}}','               {{#if article.components}}','               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}#{{ article.components }}">Component details</a></li>','               {{/if}}','               {{#if article.pricing_guidance}}','               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}#{{ article.pricing_guidance }}">Pricing Details</a></li>','               {{/if}}','               {{#if article.alternative_choices}}','               <li class="tag is-small"><a class="black-link" href="{{ article.http_url }}#{{ article.alternative_choices }}">Alternate Configurations</a></li>','               {{/if}}','           </ul>','       </div>','    </div>','</article>','</li>','{{/each}}'].join(''),cardTemplate=Handlebars.compile(cardString),pageString=['<nav class="pagination" role="navigation" aria-label="pagination">','    {{#ifCond totalPages \'>\' 1 }}','        {{#ifCond currentPage \'>\' 1 }}','        <a class="pagination-previous" aria-label="previous" data-page="{{#math currentPage \'-\' 1}}{{/math}}" href="#" onclick="filter(pageNumber={{#math currentPage \'-\' 1}}{{/math}})">','            <span class="icon" aria-hidden="true">','                <span class="docon docon-arrow-left"></span>','            </span>','        </a>','        {{/ifCond}}','        {{#ifCond currentPage \'<\' totalPages }}','        <a class="pagination-next" aria-label="next" data-page="{{#math currentPage \'+\' 1}}{{/math}}" href="#" onclick="filter(pageNumber={{#math currentPage \'+\' 1}}{{/math}})">','            <span class="icon" aria-hidden="true">','                <span class="docon docon-arrow-right">','                </span>','            </span>','        </a>','        {{/ifCond}}','        <ul class="pagination-list">','            {{#times totalPages}}','                {{#showPage this ../skipStart ../skipEnd ../currentPage}}','                    <li>','                    <a class="pagination-link{{#ifCond this \'==\' ../currentPage}} is-current{{/ifCond}}" data-page="this" href="#" onclick="filter(pageNumber={{this}})" aria-label="Page {{this}} of {{../totalPages}}" data-linktype="self-bookmark">{{this}}</a>','                    </li>','                {{else}}','                    {{#elips this ../skipStart ../skipEnd ../currentPage}}','                    <li>','                        <span class="pagination-ellipsis">&hellip;</span>','                    </li>','                    {{/elips}}','                {{/showPage}}','            {{/times}}','        </ul>','    {{/ifCond}}','</nav>'].join(''),paginationTemplate=Handlebars.compile(pageString);function filter(e,a){a||(a=!1);var t=[];$('.expander-button[aria-expanded=\'false\']').map(function(){t.push($(this).attr('aria-controls'))});var i=12;$('.grid-item').css('max-width','');var s=new URLSearchParams(window.location.search);e||(e=s.get('page')?s.get('page'):1),s.get('search')&&!a&&$('#search-content').val(s.get('search')),$.getJSON('/azure/architecture/solution-ideas/data/output.json.txt',function(a){var r=[],n=[],l=[],c=$('input[type=checkbox]:checked');$('.facet-tag').remove(),c.length>0&&$.each(c,function(){l.push($(this).closest('div').find('[category]'));var e=$(this).attr('friendly-name'),a=$(this).siblings('.checkbox-text').text();$('.facet-tags').append('<span class="tag facet-tag" id="'+e+'">'+a+'<button type="button" aria-label="Remove "'+a+'" name="'+a+'" class="delete" onclick="unCheck(\''+e+'\')"></button></span>'),r=r.concat($(this).val().toLowerCase().split(' '))}),a.articles=$.grep(a.articles,function(e){return!(r.length>0)||r.some(a=>e.tags.includes(a))});var o,d=$('#search-content').get(0).value;a.articles=$.grep(a.articles,function(e){return!d||e.filter_text.includes(d.toLowerCase())}),c.map(function(){n.push($(this).attr('friendly-name'))}),$.getJSON('/azure/architecture/solution-ideas/metadata/display-tags.json.txt',function(e){var a=refineTemplate(e);$('#refine-content').html(a);var i=$('.expander-button');$('.expander-button').on('click',toggle),i.each(function(){toggle(this)}),new URLSearchParams(window.location.search).getAll('filter').forEach(function(e){$('input[friendly-name=\''+e+'\']').prop('checked',!0),toggle($('input[friendly-name=\''+e+'\']').closest('div[data-bi-name]').find('.expander-button'),forceExpand=!0)}),t.forEach(function(e){toggle($('.expander-button[aria-controls=\''+e+'\']'),forceExpand=!0)})}),o=s.get('branch')?s.get('branch'):'';var h={filter:n,search:d,page:e,branch:o};function u(e){return null===e||''===e}for(var p in h)u(h[p])&&delete h[p];1==h.page&&delete h.page;var g='?'+$.param(h,!0);window.history.replaceState('object or string',document.title,g);var f=1+(e-1)*i,m=f+i-1,b={articles:a.articles.slice(f-1,m)},v=cardTemplate(b);$('.grid').html(v);var k=$('.grid').css('grid-template-columns').split(' ').length;1!=a.articles.length&&1!=k||$('.grid-item').css('max-width','350px');var x,_,w=10,y=Math.ceil(a.articles.length/i);y>w?(x=Math.ceil((y+4-w)/2),_=Math.floor(y-(y-w)+x-2)):(x=w+1,_=w+1);var C={maxItems:i,visibleArticles:b.articles.length,totalPages:y,skipStart:x,skipEnd:_,currentPage:e},H=paginationTemplate(C);$('.pagination').remove(),$('#results').append(H),$('.resultcount').text(a.articles.length+' Architectures Found')})}$(window).resize(function(){$('.grid-item').css('max-width',''),filter()}),$(document).ready(function(){$('.mainContainer').addClass('has-body-background-dark main-full-height is-full has-default-focus'),$('.mainContainer').removeClass('uhf-container'),$('#hub-page-main').removeClass(),$('a').click(function(e){e.preventDefault()}),filter()});